input = [
  '..#.......#..##...#...#..#.#...',
  '..##..#..#.....#.........#....#',
  '...#.##..#.#......#.#....#.....',
  '...#.....#......#...#..........',
  '.......#.#..#..#....##....##...',
  '.#......#......#.#..#....#.#...',
  '.#..........#.....###.##..#.#..',
  '....#...##...........#.........',
  '##......#.#...#...#....##.#...#',
  '.....#.....#.#..#....###...#..#',
  '.#....#.........#...#.......#.#',
  '.##......#.#.........#....#.#..',
  '...#........###..#......##....#',
  '.#.....###..........#...#....##',
  '............#......#...#...#..#',
  '.....#.#....#.#.#...........#.#',
  '....#.....#...##.##.....###..#.',
  '.....#.##......#.##.#...#.#.#..',
  '##.....#.##.##....#..##......#.',
  '.....#.....#........#........##',
  '#..#...#.#.#..##....#....##..#.',
  '.#......................##..#..',
  '#.#.#................#.....#...',
  '..#....#.#.#..##..#..#.....##..',
  '.....###..#.............#....##',
  '..#....#.#...#......###..#.....',
  '.......####.....##......#......',
  '..##...#..#...#.#..#......#....',
  '..##..#..#.....#......##.##....',
  '.#......#................#..#.#',
  '...............#....#.......#..',
  '#...........#.#.#........#.#...',
  '...#...#..#.....##..#.##...#.#.',
  '.#.#..#.#.....#...#..##....#.##',
  '.........#...#.#.#....#.......#',
  '............##.#..#.#........#.',
  '#..#..#........#......####.....',
  '..#.#...#...#...#.#...#..#..#..',
  '#....................#.#.#....#',
  '.......#.....#....#....##..#...',
  '.......#.............##.....#..',
  '..##..#.......#..#.........#..#',
  '..##.#........#...#...#..#..#..',
  '..##.#...#................#..#.',
  '..#.....##...##......###.....#.',
  '.....#.....#......#......#.....',
  '....##.#.#....#.....#..........',
  '...#...#.#.....#.###.....#....#',
  '......##....#..##...##.#.......',
  '......................##......#',
  '.##......#...#...#...##.#.##.#.',
  '#.......#...#.....#........#.#.',
  '...............#......#.......#',
  '.#..##...#....#.....###....##..',
  '...#..###...#..#....#.#..#.....',
  '.#...#....#.................#..',
  '.......##....#..##......#.#....',
  '....#.....#.....###...#....#...',
  '..##..#..##........#...........',
  '....#..#.#............#........',
  '####.....##.........#....#.....',
  '........#.....#......#......##.',
  '#..........#........#....#...##',
  '#..#...###.....##.....#.##...#.',
  '......#....##.............#..#.',
  '..#......###...#...#..##.....#.',
  '#.##...#......##.###....#....#.',
  '...............#....#.....###.#',
  '#......#........#.#..##.#.....#',
  '#..............#..##.#....#....',
  '.##....###...#...#.#....#....#.',
  '.......#...#.......#....#..##..',
  '..##.#.....#..#...............#',
  '.##..............#.......#...#.',
  '.....#...#.#..#.........#..#...',
  '........#.#.###......#..#......',
  '..#.......###..#...#...........',
  '............#.#.....#....#...#.',
  '#...#..#......#..#......#......',
  '..##..#......#..#.......#.....#',
  '............#.##.....#.#...#...',
  '....#.#...#.#...#........##....',
  '........##...#...##.....#.#..#.',
  '.#..........#.##...............',
  '###.#..#...###..###..#........#',
  '....#..#............#...#.#.#..',
  '.#....###........#.......#...#.',
  '..........#..#.....#......#....',
  '..##..#.#....#..#.....##....#..',
  '...#...............#......#....',
  '......#.#.#...###.....##.#.....',
  '.#...#.#.#.#....#.....#..#..#.#',
  '..#.....#..##....#......#.#.#..',
  '##.#....#.......#.#.#.......#..',
  '.#.#.#........##.#....#........',
  '...#..#...#.#.........#..#....#',
  '#.#......#.#.#..#.#............',
  '......#.....#.....#.......#..#.',
  '.........#..#.##..#..###....#.#',
  '.......#..........#..#.........',
  '......#.#.##...#.#...##........',
  '...........##..##.##....#......',
  '..#..#...#.###...##.....#..#..#',
  '.#...##.......#.#..........#..#',
  '##......#...........#.#........',
  '..#..#.....##..#.#.......#...#.',
  '.#....#..#.....###.......#...#.',
  '...#..#...#...###.#.###..#.....',
  '.......#...#.##......#.#.#.#...',
  '.#.......#...#...#...##........',
  '...#........#....#..#.#...#.#..',
  '..#............#.....#.#....#..',
  '#.....#.#..#.#....#...#.#.#....',
  '#......#......##.#...........#.',
  '.#..#.........##.#........#....',
  '.#....#.#...#........#......#..',
  '....#..#..#....#..#.#.....#..#.',
  '.##.#.....#..#.#...#.....#..###',
  '#..#......#..##....##..#.......',
  '.......#..##....#.###..........',
  '.#......#..........#........#..',
  '.........#.....#......#.#......',
  '.....#..#.......#...#.#....#...',
  '.#......#...#..#......#.....#.#',
  '#.#.#..#.........#.......##....',
  '...#..#.....#.#..#......#...#..',
  '.##...#...#.#....#.....#.#...#.',
  '..#......##......#....#.#..#...',
  '....#.#.....#..#...........#...',
  '.#........#....#....#...#......',
  '..#.#.....#.......#.#.#.##..##.',
  '...#..#.##.......#...#.........',
  '....##.#.#..#.#..#.#.#..#.#.#.#',
  '......#.......#.....#...##.#...',
  '..#.##.....#....#...#...##.##.#',
  '..##.........##.........#..#...',
  '.....###......####..#.#...#....',
  '...#....#....##.............#.#',
  '.#.........#.......##..#.#.....',
  '...#..#........#...............',
  '........#........##......#.#...',
  '##...#......#.....#.##........#',
  '.............#.#........#......',
  '.......##.........#.......#....',
  '....#.......#......#..###....#.',
  '.#.##........#.....#......#....',
  '#...........##...#..##.........',
  '.....#.#........#........##...#',
  '#.........#..##.....#...#....#.',
  '.........#...####..#....###....',
  '###.#..##.......#....#....#.##.',
  '...........#.....#.#...#..#....',
  '.##......###.#.#.#....#........',
  '....#..................#.###.#.',
  '#..##...#......#...#......###..',
  '.#.....#..##......#.#.#.#......',
  '..##...#..#.......##.#.......#.',
  '...#..#..##..##..##.#..####....',
  '......#..#..............#.#####',
  '....#....#..#...#...#.#........',
  '.###...#.......#..#........#...',
  '........#.#......##...#........',
  '.#..#.......##.......#.....##..',
  '...##..........##...........#..',
  '......................#..#.#.#.',
  '#..#.....#......#.....#....#.##',
  '..#......#.....#....#...#.##.#.',
  '............#...#...#......#.##',
  '........##.......#......##.....',
  '..#.##.....#....#..##...#......',
  '........#.#...##.#..#...#....#.',
  '...##............##.....#..#...',
  '...###.##....#....#.#.#.#..#...',
  '............#..#....#..#.....##',
  '...#......##.......#......##..#',
  '.......#......#........#.....#.',
  '.#....#.##..........#..........',
  '..###.........#..#...##.....#..',
  '##....##..#.......###....#.#.#.',
  '#.......#.#.##.................',
  '..#..........#................#',
  '....#.#....#...###...#......#..',
  '.#..........#..#..##.....#...##',
  '.#.....###....#.#...#.#........',
  '.........##.........#..#.#.....',
  '.#.....##....#......##.#....#..',
  '###..#...#..#.........#......#.',
  '..##.....#....#............#...',
  '.....##.##....#.....#..#..#....',
  '.......###...#..........#......',
  '...#........#....#.##.#........',
  '........###....##........##.#..',
  '....#....#........#.....##.....',
  '.#........#.#........#...#..#..',
  '#..#..#......#....##.#..###....',
  '...........#...#...#....#.#...#',
  '.#..#.....#.##..#......##......',
  '..#.#...............##..##.###.',
  '...#.#...#............##.#..#..',
  '.#.#....#....#................#',
  '...#..#.#.##.#.#....#......#...',
  '.........#..#.......##.##.#....',
  '..............#..##.#.....#....',
  '......#.........#...#...##.#..#',
  '....##.....#.#...#.#.####.#....',
  '#..#.#....#.##.......#....#....',
  '...##....#...................##',
  '##.#.......#....#.#.........#.#',
  '.##.#..###...#.#.........#.....',
  '...#.#.#..#...#...#.##....#..#.',
  '....#.....###...#....##........',
  '.............#....#....#....#..',
  '#...#.....#.#...#.#............',
  '#.#....#...........##.......#..',
  '..#..#.........#....###.......#',
  '....###..................##...#',
  '.#........#.....##...#......#..',
  '#..#......#..#.....#.##..#...#.',
  '....#........#.##.#......#.....',
  '#.#...#...............####...##',
  '#.#.....##..#.####.............',
  '##...##..#.##........#.#...#...',
  '...#...........#............#..',
  '...#..#..#........##...........',
  '..#.##..#.#...#...#..#......#..',
  '.....##......#...##.....##.....',
  '.......##.....##....#..........',
  '..........#.#...............#.#',
  '#.#..........#..#..##..#...#..#',
  '.#.#..#.###................#...',
  '#...#...#....#...#....#.##.##..',
  '.#................###.....##...',
  '.....##.#.....##.#.....#.....##',
  '.......#.......#......#.#......',
  '..#....#......#.....#.....#..#.',
  '#......#..##..####.....#.#..#..',
  '.......#...###..#...#.....#....',
  '#.#.#......#.............#..###',
  '.#.#.......#..#.#..#..#...#.#..',
  '..#.#......#......#.#....#.....',
  '..#..###..#.#.....#....#.......',
  '..........#........#......#..#.',
  '##..........##....##..###.##...',
  '...#....#.......#..##.......#..',
  '##...#............##...#.#.#.#.',
  '...........#...#.#....#.....##.',
  '.#................#.......#...#',
  '....##.#..#.#.........###.###.#',
  '#..#...###..#...#......#..##...',
  '..##........#.#..##.#..........',
  '...#..#...#...............#.#..',
  '##.##....#...#........#...#....',
  '#..#......#.##.................',
  '.....#..##.##.......#..........',
  '...#.....#........#......#.....',
  '.....#..#......#.....##...#....',
  '#......#...###....#....###.....',
  '................###..#..#..#.##',
  '......#.......#..........#.#..#',
  '###..#..#.##.............#.#...',
  '....##.#.......#...#..##.......',
  '..#.....##..#..#..#.#..........',
  '.#.......#.#..#........##......',
  '..............#.........#......',
  '..#........##....#.#.#......##.',
  '.#.#.........#.#...#.#.........',
  '..........#..#.##.#....#...#.#.',
  '............##....#.....###...#',
  '#....#..#...#.#...#.....#....#.',
  '.#...##.....#......#..#........',
  '.#..#...###.#..##........#...#.',
  '#..#...##.####.......#.....#...',
  '#.##..#...#......#.#.......#.#.',
  '#.#.....##...#.#...............',
  '#...........##.##.#.........#..',
  '...#...........#.#.#.#....#..#.',
  '..#......#.#.#....##..#.#.....#',
  '.........#.#.##...##...#.#.#...',
  '...........#..#.####.#..#.#.###',
  '#........#.#......#..#...#.....',
  '...#....#......##...#.#........',
  '......#.#....#.##....#....#..##',
  '.......###......#.#.....#......',
  '#..........##..................',
  '.###.......##..#..##...##......',
  '##.#..............#....#....##.',
  '#....#.....#.##.....#..#....#.#',
  '.......#.......#..#..#..##..#..',
  '......#...........#..##....#...',
  '.....#.......#..#......#..#..##',
  '.##...#......#........#....#...',
  '.....#..#....#...............##',
  '..#.....#....#..#.##....#.#....',
  '#.#......####...#..#.........#.',
  '#.#........#..#........#...#...',
  '..#..............#.......###.#.',
  '...#.#....##.#......#........#.',
  '....###.......##.#.....##.....#',
  '.........#......#.#.......##.##',
  '.......#.#....#.#...#...#....#.',
  '....#....#....#.#.......##.....',
  '#...#.....#..#.....#...........',
  '#...#..#...#.#..#.............#',
  '........###..#........#........',
  '.............#....#..###..#.#.#',
  '#...............#..#.#.........',
  '##.....###..#......#...#....#..',
  '.#...................##.#.##...',
  '#..#........#.#...#..#...#.....',
  '................#.#.........#..',
  '#.....##.#.#...#..#.........##.',
  '...#.....#....#..####.#........',
  '....#.#...........#............',
  '.....#........##..........#....',
  '..#.......#.#.#.####..#......#.',
  '#.......#...##.#.#..#.#.#......',
  '##........#.#...###............',
  '..##........#........#...#.#.#.',
  '#.#..#.#.......#....#........#.',
  '..............#....#.........#.',
  '#....#.#........#.............#',
  '..##...#..........#........#...',
  '..#..#..#....#....#............',
]

# input = [
#   '..##.......',
#   '#...#...#..',
#   '.#....#..#.',
#   '..#.#...#.#',
#   '.#...##..#.',
#   '..#.##.....',
#   '.#.#.#....#',
#   '.#........#',
#   '#.##...#...',
#   '#...##....#',
#   '.#..#...#.#'
# ]

# problem 1

trees = 0

(1...input.size).each do |row|
  col = row * 3
  col_remainder = col % input[0].size

  trees += 1 if input[row].chars[col_remainder] == '#'
end

puts trees

# problem 2

def tree_counter(input, right, down)
  trees = 0
  col = 0
  row = 0

  while true
    row += down
    break if row >= input.size

    col += right

    col_remainder = col % input[0].size

    trees += 1 if input[row].chars[col_remainder] == '#'
  end

  trees
end

slopes = [
  [1, 1],
  [3, 1],
  [5, 1],
  [7, 1],
  [1, 2]
]

puts slopes.reduce(1) { |result, slope| result * tree_counter(input, slope[0], slope[1]) }





